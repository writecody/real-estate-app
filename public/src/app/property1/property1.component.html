<html>
<head>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script>
        formatNumber(num) {
            return num.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g, "$1,")
        };    
    </script>
</head>
<body>
    
    <h2>Zillow Property Search: Compare Properties</h2>
    
    <form id="property-search">
        <h4>Property 1 Search</h4>
        Address: <input type="text" name="formAddress1" [(ngModel)]="formAddress1">
        City, State: <input type="text" name="formCityStateZip1" [(ngModel)]="formCityStateZip1"> 
        <button (click)="search1()">Search</button>
    </form>
    
    <div id="property1">
        
        <h3>Property 1</h3>
        
        <div id="address-notes">
            <h4>Address:</h4>
            <p id="address1"></p>
            <p id="citystatezip1"></p>
            <p id="zipcode1"></p>
            
            <h4 id="notes">Notes: </h4>
            <p><input type="textarea" name="notes1" [(ngModel)]="notes1"></p>
        </div><!--close div "address-notes"-->
        
        <div id="cost-assumptions">
            <h4>Cost Assumptions</h4>
            <table>
                <tr>
                    <th>Purchase Price</th>
                    <th>Land Value (25%)</th>
                    <th>Building Value</th>
                    <th>Improvements</th>
                    <th>Closing Costs</th>
                    <th>Total Cost</th>
                </tr>
                <tr>
                    <td>$<input type="number" name="purchasePrice1" [(ngModel)]="purchasePrice1"></td>
                    <td>$ {{ formatNumber(purchasePrice1 * .25) }} </td>
                    <td>$ {{ formatNumber(purchasePrice1 * .75) }} </td>
                    <td>$<input type="number" name="improvements1" [(ngModel)]="improvements1"></td>
                    <td>$<input type="number" name="closingCosts1" [(ngModel)]="closingCosts1"></td>
                    <td>$ {{ totalCost1 }} </td>
                </tr>
            </table>
        </div><!--close div "cost-assumptions"-->
        
        <div id="revenue-assumptions">
            <h4>Revenue Assumptions</h4>
            <table>
                <tr>
                    <th>Monthly Rent</th>
                    <th>Vacancy Rate</th>
                </tr>
                <tr>
                    <td>$<input type="number" name="rentM1" [(ngModel)]="rentM1"></td>
                    <td>%<input type="number" name="vacancyRate1" [(ngModel)]="vacancyRate1"></td>
                </tr>
            </table>
        </div><!--close div "revenue-assumptions"-->
        
        <div id="quick-stats">
            <h4>Quick Stats</h4>
            <table>
                <tr>
                    <th>Year Built</th>
                    <th>Listed Price</th>
                    <th>Beds</th>
                    <th>Baths</th>
                    <th>Square Footage</th>
                    <th>Lot Size (Sq. Ft.)</th>
                </tr>
                <tr>
                    <td id="yearBuilt1"></td>
                    <td id="amount1"></td>
                    <td id="bedrooms1"></td>
                    <td id="bathrooms1"></td>
                    <td id="finishedSqFt1"></td>
                    <td id="lotSizeSqFt1"></td>
                </tr>
            </table>
        </div><!--close div "quick-stats"-->
        
        <div id="financing-assumptions">
            <h4>Financing Assumptions</h4>
            <table>
                <tr>
                    <th>Down Payment (%)</th>
                    <th>Finance Amt</th>
                    <th>Down Payment Amt</th>
                    <th>Interest Rate</th>
                    <th>Mortgage (Years)</th>
                    <th>Mortgage Payment</th>
                    <th>Cash Outlay</th>
                </tr>
                <tr>
                    <td><input type="number" name="downPaymentPct1" [(ngModel)]="downPaymentPct1"></td>     
                    <td>$ {{ formatNumber(purchasePrice1 - ((purchasePrice1 * downPaymentPct1) / 100)) }}  </td>
                    <td>$ {{ formatNumber((purchasePrice1 * downPaymentPct1) / 100) }} </td>
                    <td><input type="number" name="interestRate1" [(ngModel)]="interestRate1"></td>
                    <td><input type="number" name="mortgageTerm1" [(ngModel)]="mortgageTerm1"></td>
                    <td>$ {{ formatNumber(result1) }} </td>
                    <td>$ {{ formatNumber(((purchasePrice1 * downPaymentPct1) / 100) + improvements1 + closingCosts1) }} </td>
                </tr>
            </table>

        </div><!--close div "financing-assumptions"-->
        
        <div id="expense-assumptions">
            <h4>Expense Assumptions</h4>
            <table>
                <tr>
                    <th>Tax Rate</th>
                    <th>Insurance (Month)</th>
                    <th>Maintenance & Repairs (Month)</th>
                    <th>Utilities (Month)</th>
                    <th>Advertising (Year)</th>
                    <th>Admin (Year)</th>
                    <th>Property Management %</th>
                    <th>Property Management $</th>
                </tr>
                <tr>
                    <td><input type="number" name="taxRate1" [(ngModel)]="taxRate1"></td>
                    <td>$<input type="number" name="insuranceM1" [(ngModel)]="insuranceM1"></td>
                    <td>$<input type="number" name="maintenanceM1" [(ngModel)]="maintenanceM1"></td>
                    <td>$<input type="number" name="utilitiesM1" [(ngModel)]="utilitiesM1"></td>
                    <td>$<input type="number" name="adminY1" [(ngModel)]="adminY1"></td>     
                    <td>$<input type="number" name="propertyMgmtAmt" [(ngModel)]="propertyMgmtAmt"></td> 
                </tr>
            </table>
        </div><!--close div "expense-assumptions"-->
        
        <div id="run-ourselves">
            <h4>CF & ROI (Doing My Own PM)</h4>
            <table>
                <tr>
                    <th>Annual Cash Flow</th>
                    <th>Cash ROI</th>
                    <th>Total ROI</th>
                </tr>
                <tr>
                    <td></td>
                    <td></td>
                    <td></td>
                </tr>
            </table>
        </div><!--close div "run-ourselves"-->
        
        <div id="manager-hired">
            <h4>CF & ROI (Outsourced PM)</h4>
            <table>
                <tr>
                    <th>Annual Cash Flow</th>
                    <th>Cash ROI</th>
                    <th>Total ROI</th>
                </tr>
                <tr>
                    <td>$ {{ annualCashFlow1 }} </td>
                    <td> {{ cashRoi1 }} % </td>
                    <td></td>
                </tr>
            </table>
        </div><!--close div "manager-hired"-->
        
        <button (click)="calculate1()">Calculate</button> 
        
        
        
        <div id="mortgage-div1">
            
            <h4>Mortgage:</h4>
            
            <div>Down Payment:
                <p></p>
            </div>
            
            <div>Insurance (M):
                <p></p>
            </div>
            
            <div>Maintenance (M):
                <p></p>
            </div>
            
            <div>Utilities:
                <p></p>
            </div>
            
            <div>Advertising:
                <p id="advertising1"></p>
            </div>
            
            <div>Admin (Y):
                <p id="admin-Y1"></p>
            </div>
            
            <div>Property Management:
                <p id="property-mgmt1"></p>
            </div>
            
            <div>Variable Cost Property Management:
                <p id="property-mgmt-pct1"></p>
            </div>
            
        </div><!--close "mortgage-div"-->
        
    </div><!--close div "property1"-->
    
    
    
</body>
</html>
